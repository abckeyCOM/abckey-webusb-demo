(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Bootloader"],{"5be7":function(e,t,a){"use strict";(function(e){a("96cf");var r=a("1da1"),s=a("cebe"),i=a.n(s);t["a"]={name:"Connect",data:function(){return{d_overlay:!1,d_upgrade:0,d_reset:0}},computed:{c_fw:function(e){return e.$store.__s("usb.firmwarePresent")}},methods:{upgrade:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.d_upgrade=1,t.c_fw&&(t.d_upgrade=2),a.next=4,t.$usb.cmd("FirmwareErase",{});case 4:if(r=a.sent,"Failure"!==r.type){a.next=7;break}return a.abrupt("return",t.d_upgrade=3);case 7:return t.d_upgrade=1,a.next=10,i.a.get("/bin/core.bin",{responseType:"arraybuffer"});case 10:if(s=a.sent,n=s.data,!n){a.next=15;break}return a.next=15,t.$usb.cmd("FirmwareUpload",{payload:e.from(n)});case 15:t.d_upgrade=3;case 16:case"end":return a.stop()}}),a)})))()},wipeDevice:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.d_reset=3,t.next=3,e.$usb.cmd("WipeDevice",{});case 3:e.d_reset=4;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.c_fw||this.upgrade()},i18n:{messages:{zhCN:{Bootloader:"引导程序",Upgrade:"升级",Reset:"重置",Next:"下一步",Wipe:"擦除",Cancel:"取消","Operation aborted.":"操作已中止","Updating...":"正在更新……","Factory reset?":"恢复出厂设置？","Warning!":"警告！","You can reset the Device to factory defaults if you need to do so.":"您可以根据需要将设备重置为出厂默认设置。","All data will be deleted!":"所有数据将被删除！","Factory reset will erase all sensitive data, including the seed from the device, as well as the firmware.":"恢复出厂设置将擦除所有敏感数据，包括设备的种子以及固件。","Please operate on the device!":"请在设备上操作！","Please replug the device!":"请重新插拔设备！"}}}}}).call(this,a("b639").Buffer)},"5cf3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height"},[a("v-layout",{staticClass:"d-flex justify-center align-center text-center"},[a("div",[a("v-icon",{attrs:{size:"200",color:"info"}},[e._v("mdi-tools")]),a("h1",{staticClass:"display-1 mt-7"},[e._v(e._s(e.$t("Bootloader")))]),a("div",{staticClass:"mt-7"},[a("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(t){return e.upgrade()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-transfer-up")]),e._v(e._s(e.$t("Upgrade")))],1),a("v-btn",{staticClass:"mx-2",attrs:{color:"error"},on:{click:function(t){e.d_reset=1}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-eraser")]),e._v(e._s(e.$t("Reset")))],1)],1),a("v-overlay",{attrs:{value:e.d_overlay,"z-index":"99",opacity:".7"}})],1)]),a("v-dialog",{attrs:{value:1===e.d_upgrade,"max-width":"333","overlay-opacity":".9",persistent:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("Updating...")))]),a("v-card-text",[a("v-progress-linear",{attrs:{color:"primary",height:"9",indeterminate:"",rounded:""}})],1)],1)],1),a("v-dialog",{attrs:{value:1===e.d_reset,"max-width":"333","overlay-opacity":".9",persistent:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("Factory reset?")))]),a("v-card-text",[e._v(e._s(e.$t("You can reset the Device to factory defaults if you need to do so.")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.d_reset=2}}},[e._v(e._s(e.$t("Next")))]),a("v-btn",{attrs:{color:"success",text:""},on:{click:function(t){e.d_reset=0}}},[e._v(e._s(e.$t("Cancel")))])],1)],1)],1),a("v-dialog",{attrs:{value:2===e.d_reset,"max-width":"333","overlay-opacity":".9",persistent:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.$t("Warning!")))]),a("v-card-text",[e._v(e._s(e.$t("Factory reset will erase all sensitive data, including the seed from the device, as well as the firmware.")))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.wipeDevice()}}},[e._v(e._s(e.$t("Wipe")))]),a("v-btn",{attrs:{color:"success",text:""},on:{click:function(t){e.d_reset=0}}},[e._v(e._s(e.$t("Cancel")))])],1)],1)],1),a("v-dialog",{attrs:{value:3===e.d_reset||2===e.d_upgrade,width:"initial","overlay-opacity":".9",persistent:""}},[a("v-chip",{attrs:{"x-large":"",label:""}},[a("span",{staticClass:"px-3 headline"},[a("v-icon",{attrs:{left:""}},[e._v("mdi-gesture-tap-button")]),a("span",[e._v(e._s(e.$t("Please operate on the device!")))])],1)])],1),a("v-dialog",{attrs:{value:4===e.d_reset||3===e.d_upgrade,width:"initial","overlay-opacity":".9",persistent:""}},[a("v-chip",{attrs:{"x-large":"",label:""}},[a("span",{staticClass:"px-3 headline"},[a("v-icon",{attrs:{left:""}},[e._v("mdi-power-plug-off")]),a("span",[e._v(e._s(e.$t("Please replug the device!")))])],1)])],1)],1)},s=[],i=a("5be7"),n=i["a"],c=a("2877"),o=Object(c["a"])(n,r,s,!1,null,"0a340f12",null);t["default"]=o.exports}}]);